#!/usr/bin/env zsh
if [ -f "$HOME/.zshrc" ]; then
    . "$HOME/.zshrc"
fi

# export TERM=terminator

# export LD_LIBRARY_PATH=/usr/local/lib/x86_64-linux-gnu/
# export _JAVA_AWT_WM_NONREPARENTING=1
# export XDG_CURRENT_DESKTOP=sway
# export MOZ_ENABLE_WAYLAND=1
# export MOZ_WAYLAND_USE_VAAPI=1
# export MOZ_DISABLE_RDD_SANDBOX=1 
# export QT_QPA_PLATFORMTHEME=qt5ct

# nvidia stuff
# export __GL_GSYNC_ALLOWED=0
# export __GL_VRR_ALLOWED=0
# export WLR_DRM_NO_ATOMIC=1
# export QT_AUTO_SCREEN_SCALE_FACTOR=1
# export QT_QPA_PLATFORM=wayland
# export QT_WAYLAND_DISABLE_WINDOWDECORATION=1
# export GDK_BACKEND=wayland
# export GBM_BACKEND=nvidia-drm
# export __GLX_VENDOR_LIBRARY_NAME=nvidia
# export WLR_NO_HARDWARE_CURSORS=1
# export WLR_RENDERER=vulkan
# export XWAYLAND_NO_GLAMOR=1
# export WLR_DRM_DEVICES=/dev/dri/card0

# Start ssh agent
#killall ssh-agent
#eval $(ssh-agent -c)
#find ~/.ssh ! -name "*.pub" ! -name "config" ! -name "known_hosts" -type f | xargs ssh-add 2>&1 > /dev/null

mkdir -p $HOME/logs
mv $HOME/logs/sway.log $HOME/logs/sway-prev.log

exec sway -d --unsupported-gpu 2> $HOME/logs/sway.log
